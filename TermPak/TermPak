#!/bin/bash

# Diretório onde ficam os apps .deb
APPS_DIR="$PREFIX/TermPak/apps"

# Função para mostrar status
status() {
    if [ -f "$PREFIX/bin/TermPak" ]; then
        echo "TermPak está instalado ✔"
    else
        echo "TermPak não está instalado ✘"
    fi
}

# Se nenhum argumento for passado, mostra o status
if [ -z "$1" ]; then
    status
    exit 0
fi

APP_NAME="$1"
DEB_PATH="$APPS_DIR/$APP_NAME.deb"

# Verifica se o app existe
if [ ! -f "$DEB_PATH" ]; then
    echo "App '$APP_NAME' não encontrado em $APPS_DIR"
    exit 1
fi

echo "Instalando $APP_NAME..."
dpkg -i "$DEB_PATH" || pkg install -f
echo "Feito."
